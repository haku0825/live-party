{% extends "core/base.html" %}

{% block title %}Party Match{% endblock %}

{% block content %}
<style>
  /* íŒì—… ìŠ¤íƒ€ì¼ (ë©”ì¸ í˜ì´ì§€ ì „ìš©) */
  .popup-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease-out;
  }
  
  .popup-card {
      background: rgba(30, 33, 40, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
      position: relative;
      animation: slideUp 0.3s ease-out;
  }

  .popup-icon { font-size: 48px; margin-bottom: 16px; }
  .popup-title { font-size: 22px; margin: 0 0 10px; color: white; font-weight: 800; }
  .popup-desc { color: rgba(255, 255, 255, 0.7); margin-bottom: 24px; line-height: 1.5; font-size: 15px; }
  
  .btn-popup {
      display: block;
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      font-weight: 700;
      text-decoration: none;
      transition: 0.2s;
      cursor: pointer;
  }
  
  .btn-send {
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      color: white;
      border: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 10px;
  }
  .btn-send:hover { filter: brightness(1.1); transform: translateY(-1px); }
  
  .btn-close {
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.05);
      font-size: 14px;
  }
  .btn-close:hover { background: rgba(255, 255, 255, 0.1); color: white; }

  /* ë‹«ê¸°(X) ë²„íŠ¼ */
  .close-icon {
      position: absolute;
      top: 15px; right: 15px;
      color: rgba(255, 255, 255, 0.4);
      cursor: pointer;
      font-size: 20px;
  }
  .close-icon:hover { color: white; }

  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
</style>

{% if user.is_authenticated and not user.emailaddress_set.first.verified %}
<div id="email-popup" class="popup-overlay">
    <div class="popup-card">
        <div class="close-icon" onclick="closePopup()">âœ•</div>
        
        <div class="popup-icon">ğŸ“§</div>
        <h2 class="popup-title">ì´ë©”ì¼ ì¸ì¦ì´ í•„ìš”í•´ìš”</h2>
        <p class="popup-desc">
            ì›í™œí•œ íŒŒí‹° ë§¤ì¹­ê³¼ ì±„íŒ…ì„ ìœ„í•´<br>
            ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.
        </p>
        
        <a href="{% url 'resend-email' %}" class="btn-popup btn-send">
            ì¸ì¦ ë©”ì¼ ë³´ë‚´ê¸°
        </a>
        <button onclick="closePopup()" class="btn-popup btn-close">
            ë‚˜ì¤‘ì— í•˜ê¸°
        </button>
    </div>
</div>

<script>
    function closePopup() {
        const popup = document.getElementById('email-popup');
        popup.style.opacity = '0';
        setTimeout(() => { popup.style.display = 'none'; }, 300);
    }
</script>
{% endif %}

<section class="hero">
  <div class="hero-grid">
    <div class="panel">
      <h1>ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒí‹° ë§Œë“¤ê³ <br>ë°”ë¡œ ê°™ì´ í”Œë ˆì´í•´ìš”.</h1>
      <p class="lead">
        ê²Œì„ / ëª¨ë“œ / ì¸ì›ë§Œ ê³ ë¥´ë©´ íŒŒí‹°ê°€ ìƒì„±ë˜ê³ , ë°”ë¡œ ì±„íŒ…ë°©ì´ ì—´ë¦½ë‹ˆë‹¤.
        ë””ìŠ¤ì½”ë“œ ì¹œì¶”ë“ , ë“€ì˜¤ë“ , ìŠ¤í¬ë¦¼ì´ë“  â€” í•„ìš”í•œ ì‚¬ëŒì„ ë¹ ë¥´ê²Œ ëª¨ì•„ë³´ì„¸ìš”.
      </p>

      <div class="hero-actions">
        <a class="btn btn-primary" href="{% url 'party_list' %}">íŒŒí‹° ì°¾ê¸°</a>
        <a class="btn" href="{% url 'party_create' %}">íŒŒí‹° ë§Œë“¤ê¸°</a>
      </div>
    </div>

    <div class="panel">
      <p class="card-title">ì´ëŸ° ë¶„ë“¤ì—ê²Œ ì¢‹ì•„ìš”</p>
      <p class="card-text">â€¢ í˜¼ì í•˜ê¸° ì‹¬ì‹¬í•  ë•Œ ë¹ ë¥´ê²Œ íŒ€ì› ëª¨ì§‘</p>
      <p class="card-text">â€¢ ë‚´ ì£¼ ê²Œì„/ë§ˆì´í¬ ì—¬ë¶€ë¡œ í¸í•˜ê²Œ ë§¤ì¹­</p>
      <p class="card-text">â€¢ íŒŒí‹°ë³„ ì‹¤ì‹œê°„ ì±„íŒ…ìœ¼ë¡œ ë°”ë¡œ í•©ë¥˜</p>
    </div>
  </div>

  <div class="grid">
    <div class="card">
      <p class="card-title">âš¡ ì‹¤ì‹œê°„ íŒŒí‹°</p>
      <p class="card-text">ë°© ë§Œë“¤ë©´ ì¦‰ì‹œ ì˜¤í”ˆë˜ê³ , ì¸ì› ëª¨ì´ë©´ ë°”ë¡œ ì¶œë°œ.</p>
    </div>
    <div class="card">
      <p class="card-title">ğŸ’¬ íŒŒí‹° ì±„íŒ…</p>
      <p class="card-text">íŒŒí‹°ë³„ ì±„íŒ…ë°©ìœ¼ë¡œ ë””ì½”/ë‹‰ ê³µìœ ê¹Œì§€ í•œ ë²ˆì—.</p>
    </div>
  </div>
</section>
{% endblock %}